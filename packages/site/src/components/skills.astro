---
import Icon from "astro-icon";
import { dataTransform } from "../lib/cv";

interface Props {
	categories: ReturnType<typeof dataTransform>;
}

const { categories } = Astro.props as Props;

function getColor(id?: string) {
	switch (id) {
		case "operations":
			return "#065f46";
		case "programming":
			return "#2460A7";
		case "data":
			return "#491D70";
		default:
			return "#000000";
	}
}
---

<div class="flex flex-row flex-wrap justify-between">
	{
		categories.map((c) => (
			<div class="w-full sm:w-1/2 lg:w-1/3 xl:w-1/4 flex flex-col p-6 md:p-0 mb-4 lg:mb-0">
				<h2
					class="font-semibold uppercase text-sm mb-4"
					style={`color: ${getColor(c.id)}`}
				>
					{c.name}
				</h2>
				<div>
					{c.keywords &&
						c.keywords.map((s) => (
							<span
								class="andri-tag"
								style={`background-color: ${getColor(c.id)}`}
							>
								{s.name}
								{c.preferred?.includes(s.name) ? (
									<Icon
										name="fa:heart"
										class="ml-2 inline-icon text-red-700"
									/>
								) : null}
							</span>
						))}
				</div>
			</div>
		))
	}
</div>
